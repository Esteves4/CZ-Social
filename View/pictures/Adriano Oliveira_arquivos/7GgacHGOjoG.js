if (self.CavalryLogger) { CavalryLogger.start_js(["z1Trp"]); }

__d('P2PChatThreadBanner.react',['cx','ix','Image.react','Layout.react','P2PAPI','P2PLogger','P2PPaymentLoggerEvent','React','Set'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=c('Layout.react').FillColumn,k=c('Layout.react').Column,l=new (c('Set'))(),m=c('React').PropTypes,n=c('React').createClass({displayName:'P2PChatThreadBanner',propTypes:{bannerType:m.string.isRequired,bodyText:m.string,buttonText:m.string,loggerEventFlow:m.string.isRequired,onClick:m.func,titleText:m.string.isRequired},_isRendered:false,componentDidMount:function(){var o=this.props.bannerType;if(!l.has(o)){l.add(o);this._isRendered=true;this.log(c('P2PPaymentLoggerEvent').UI_ACTN_CHAT_THREAD_BANNER_VIEWED,{});c('P2PAPI').incrementBannerViews(this.props.bannerType);}},log:function(o,p){c('P2PLogger').log(o,babelHelpers['extends']({www_event_flow:this.props.loggerEventFlow},p));},handleClick:function(o){o.stopPropagation();if(this.props.onClick)this.props.onClick();this.log(c('P2PPaymentLoggerEvent').UI_ACTN_CHAT_THREAD_BANNER_CLICKED,{});c('P2PAPI').incrementBannerDismissals(this.props.bannerType);},handleClose:function(o){o.stopPropagation();this.log(c('P2PPaymentLoggerEvent').UI_ACTN_CHAT_THREAD_BANNER_DISMISSED,{});c('P2PAPI').incrementBannerDismissals(this.props.bannerType);},hasRenderedSameBanner:function(){return !this._isRendered&&l.has(this.props.bannerType);},render:function(){var o=void 0,p=void 0;if(this.hasRenderedSameBanner())return null;if(this.props.bodyText)o=c('React').createElement('div',{className:"_1w2e"},this.props.bodyText);if(this.props.buttonText)p=c('React').createElement('a',{className:"_2hrk"},this.props.buttonText);return (c('React').createElement('div',{className:"_1w2f",onClick:this.handleClick},c('React').createElement('div',{className:"_3jht",onClick:this.handleClose},c('React').createElement(c('Image.react'),{className:"_47dg",height:9,src:i('/images/p2p/chat-thread-banner-close.png'),width:9})),c('React').createElement(c('Layout.react'),null,c('React').createElement(k,{className:"_1w2g"},c('React').createElement(c('Image.react'),{className:"_1w2h",height:15,src:i('/images/p2p/thread-banner-dollar.png'),width:15})),c('React').createElement(j,{className:"_1w2i"},c('React').createElement('div',{className:"_1w2j"+(!!o?' '+"_1w2k":'')},this.props.titleText),o,p))));}});f.exports=n;},null);
__d('P2PPlatformContextStore',['Arbiter','ChannelConstants','CurrentUser','EventEmitter','ImmutableObject','Map','MercuryIDs','P2PActions','P2PActionConstants','P2PAPI','P2PChannelType','P2PDispatcher'],function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=new (c('Map'))(),k=new (c('Map'))(),l=null;h=babelHelpers.inherits(m,c('EventEmitter'));i=h&&h.prototype;function m(){i.constructor.call(this);l=c('P2PDispatcher').register(this.onEventDispatched.bind(this));c('Arbiter').subscribe(c('ChannelConstants').getArbiterType(c('P2PChannelType').PLATFORM_CONTEXT_NEW),this.handleChannelUpdated.bind(this));c('Arbiter').subscribe(c('ChannelConstants').getArbiterType(c('P2PChannelType').PLATFORM_CONTEXT_ELIGIBLE_ITEM_UPDATED),this.handleChannelChanged.bind(this));c('Arbiter').subscribe(c('ChannelConstants').getArbiterType(c('P2PChannelType').PLATFORM_CONTEXT_DISMISSED),this.handleChannelChanged.bind(this));}m.prototype.onEventDispatched=function(n){var o=n.type,p=n.data;switch(o){case c('P2PActionConstants').PLATFORM_CONTEXT_ADDED:this.handlePlatformContextAdded(p);this.emit('change');break;case c('P2PActionConstants').PLATFORM_CONTEXT_ADDED_ERROR:this.handlePlatformContextAddedError(p);this.emit('change');break;case c('P2PActionConstants').PLATFORM_CONTEXT_SAVE_ERRORS_CLEARED:this.handlePlatformContextSaveErrorsCleared(p);this.emit('change');break;case c('P2PActionConstants').PLATFORM_CONTEXT_BANNER_DISMISSED:this.handlePlatformContextBannerDisimssed(p);this.emit('change');break;case c('P2PActionConstants').PLATFORM_CONTEXT_PRODUCT_ITEM_SOLD:this.handlePlatformContextProductItemSold(p);this.emit('change');break;case c('P2PActionConstants').PLATFORM_CONTEXT_CHANGED:this.handlePlatformContextChanged(p);this.emit('change');break;}};m.prototype.handleChannelUpdated=function(n,o){var p=o.obj;c('P2PActions').addPlatformContext(p);};m.prototype.handleChannelChanged=function(n,o){var p=o.obj;c('P2PActions').platformContextChanged(p);};m.prototype.handlePlatformContextAdded=function(n){this.setPlatformContext(n);};m.prototype.handlePlatformContextAddedError=function(n){k.set(n.itemID,n.error);};m.prototype.handlePlatformContextSaveErrorsCleared=function(n){k['delete'](n);};m.prototype.handlePlatformContextChanged=function(n){j.forEach(function(o,p){if(o.id===n.id)this.setPlatformContext(n);}.bind(this));};m.prototype.handlePlatformContextBannerDisimssed=function(n){j.forEach(function(o,p){if(o.id===n){if(this.isViewerSellerForPlatformContext(o)){o=c('ImmutableObject').set(o,{banner:c('ImmutableObject').set(o.banner,{shouldShowToSeller:false})});}else if(this.isViewerBuyerForPlatformContext(o))o=c('ImmutableObject').set(o,{banner:c('ImmutableObject').set(o.banner,{shouldShowToBuyer:false})});j.set(p,o);}}.bind(this));};m.prototype.handlePlatformContextProductItemSold=function(n){j.forEach(function(o,p){if(o.id===n){o=c('ImmutableObject').set(o,{product:c('ImmutableObject').set(o.product,{isAvailable:false})});j.set(p,o);}});};m.prototype.setPlatformContext=function(n){var o=new (c('ImmutableObject'))(n);o=c('ImmutableObject').set(o,{product:new (c('ImmutableObject'))(n.product)});o=c('ImmutableObject').set(o,{banner:new (c('ImmutableObject'))(n.banner)});j.set(this.getOtherUserIDForPlatformContext(n),o);};m.prototype.shouldShowBanner=function(n){var o=void 0,p=void 0;if(!n)return false;o=this.getPlatformContextByOtherUserID(n);if(!o){j.set(n,new (c('ImmutableObject'))({}));c('P2PAPI').getPlatformContextByOtherUserID({otherUserID:n});return false;}p=o.banner;return !!(this.isViewerSellerForPlatformContext(o)&&p.shouldShowToSeller||this.isViewerBuyerForPlatformContext(o)&&p.shouldShowToBuyer);};m.prototype.isViewerSellerForPlatformContext=function(n){return n.sellerID===c('CurrentUser').getID();};m.prototype.isViewerBuyerForPlatformContext=function(n){return n.buyerID===c('CurrentUser').getID();};m.prototype.getOtherUserIDForPlatformContext=function(n){return (this.isViewerSellerForPlatformContext(n)?n.buyerID:n.sellerID);};m.prototype.getPlatformContextByOtherUserID=function(n){return j.get(n);};m.prototype.getPlatformContextByID=function(n){for(var o=j.values(),p=Array.isArray(o),q=0,o=p?o:o[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var r;if(p){if(q>=o.length)break;r=o[q++];}else{q=o.next();if(q.done)break;r=q.value;}var s=r;if(s.id===n)return s;}return null;};m.prototype.getThreadIDFromPlatformContext=function(n){var o=this.getOtherUserIDForPlatformContext(n);return c('MercuryIDs').getThreadIDFromUserID(o);};m.prototype.getSaveError=function(n){return k.get(n);};m.prototype.getDispatchToken=function(){return l;};f.exports=new m();},null);
__d('P2PMessageSellerConfirmationDialog.react',['cx','fbt','ix','Image.react','P2PButton.react','P2PDialog.react','P2PDialogBody.react','P2PDialogFooter.react','P2PListRow.react','P2PText.react','React','XUICloseButton.react'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes,l=c('React').createClass({displayName:'P2PMessageSellerConfirmationDialog',propTypes:{onCancel:k.func.isRequired,onPay:k.func.isRequired},render:function(){return (c('React').createElement(c('P2PDialog.react'),{width:480},c('React').createElement(c('P2PDialogBody.react'),{className:"_4-ft"},c('React').createElement(c('XUICloseButton.react'),{className:"_4-fu",onClick:this.props.onCancel}),c('React').createElement(c('P2PListRow.react'),{offsetRight:16,offsetBottom:0},c('React').createElement(c('Image.react'),{height:100,src:j('/images/p2p/owl.png'),width:105}),c('React').createElement('div',null,c('React').createElement(c('P2PText.react'),{className:"_3-94",size:'large',type:'primary',weight:'bold'},i._("Entre em contato com o vendedor antes de pagar")),c('React').createElement(c('P2PText.react'),{size:'medium',type:'primary'},i._("Converse sobre o pre\u00e7o e a log\u00edstica com o vendedor antes de enviar o pagamento para este item."))))),c('React').createElement(c('P2PDialogFooter.react'),null,c('React').createElement(c('P2PButton.react'),{label:i._("Iniciar conversa"),onClick:this.props.onCancel}),c('React').createElement(c('P2PButton.react'),{label:i._("Continuar para pagar"),onClick:this.props.onPay,use:'confirm'}))));}});f.exports=l;},null);
__d('P2PPlatformContextBannerShape',['React'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=h.shape({shouldShowToBuyer:h.bool,shouldShowToSeller:h.bool,shouldShowPayNux:h.bool});f.exports=i;},null);
__d('P2PPlatformContextShippingOptionShape',['React'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=h.shape({formattedShippingPrice:h.string,formattedSubtotal:h.string,formattedTax:h.string,formattedTotal:h.string,id:h.string,rawTotal:h.string,title:h.string});f.exports=i;},null);
__d('P2PPlatformContextShape',['P2PPlatformContextBannerShape','P2PPlatformContextProductItemShape','P2PPlatformContextShippingOptionShape','React'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=h.shape({id:h.string,banner:c('P2PPlatformContextBannerShape'),buyerID:h.string,product:c('P2PPlatformContextProductItemShape'),sellerID:h.string,shippingOptions:h.arrayOf(c('P2PPlatformContextShippingOptionShape'))});f.exports=i;},null);
__d('P2PUserEligibilityStore',['P2PActionConstants','EventEmitter','MercuryIDs','P2PAPI','P2PDispatcher','P2PGKValues'],function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=void 0,k=void 0;h=babelHelpers.inherits(l,c('EventEmitter'));i=h&&h.prototype;function l(){i.constructor.call(this);k={};j=c('P2PDispatcher').register(this.onEventDispatched.bind(this));}l.prototype.onEventDispatched=function(m){var n=m.data,o=m.type;switch(o){case c('P2PActionConstants').USER_ELIGIBILITY_UDPATED:this.handleEligibilityUpdated(n);this.emit('change');break;}};l.prototype.getEligibilityByUserIDs=function(m){var n=[],o=void 0,p=void 0,q={};for(var r=0;r<m.length;r++){p=m[r];o=k[p];if(o===undefined){k[p]=null;n.push(p);}q[p]=k[p];}if(c('P2PGKValues').P2PEnabled&&n.length)c('P2PAPI').getUserEligibility({userIDs:n});return q;};l.prototype.getEligibilityByUserID=function(m){var n=this.getEligibilityByUserIDs([m]);return n[m];};l.prototype.getEligibilityByThreadID=function(m){return (this.getEligibilityByUserID(c('MercuryIDs').getUserIDFromThreadID(m)));};l.prototype.handleEligibilityUpdated=function(m){for(var n=0;n<m.length;n++)k[m[n].user_id]=m[n].p2p_eligible;};f.exports=new l();},null);
__d("XC2CPayNUXBannerImpressionsUpdateController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/c2c\/pay_nux_banner_impressions\/_update\/",{});},null);
__d('P2PProductItemChatThreadBanner.react',['cx','fbt','ix','AsyncRequest','ContextualLayerAutoFlip','BackgroundImage.react','Image.react','Layout.react','LineClamp.react','Link.react','MercuryIDs','MercuryMessages','P2PActions','P2PAPI','P2PGKValues','P2PLogger','P2PLinkConstants','P2PMessageSellerConfirmationDialog.react','P2PPaymentLoggerEvent','P2PPaymentLoggerEventFlow','P2PPlatformContextShape','P2PPlatformContextStore','P2PUserEligibilityStore','PopoverMenu.react','ReactComponentWithPureRenderMixin','React','ReactLayeredComponentMixin','ReactXUIMenu','Set','StoreAndPropBasedStateMixin','Tooltip.react','URI','XC2CPayNUXBannerImpressionsUpdateController','XUIAmbientNUX.react','XUIButton.react','XUIGrayText.react'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=c('Layout.react').Column,l=c('Layout.react').FillColumn,m=c('ReactXUIMenu').Item,n=false,o=new (c('Set'))(),p=c('React').createClass({displayName:'P2PProductItemChatThreadBanner',mixins:[c('ReactLayeredComponentMixin'),c('ReactComponentWithPureRenderMixin'),c('StoreAndPropBasedStateMixin')(c('P2PUserEligibilityStore'))],propTypes:{platformContext:c('P2PPlatformContextShape').isRequired},getInitialState:function(){return {requestEnabled:c('P2PGKValues').P2PGroupCommerceRequestEnabled,showConfirmationDialog:false,showNUX:false};},statics:{calculateState:function(q){return {canSendToRecipient:c('P2PUserEligibilityStore').getEligibilityByThreadID(c('P2PPlatformContextStore').getThreadIDFromPlatformContext(q.platformContext))};}},componentDidMount:function(){var q=this.props.platformContext,r=c('P2PPlatformContextStore').getThreadIDFromPlatformContext(q);this.handleShouldShowPayNUX();if(!o.has(r)){o.add(r);if(c('P2PPlatformContextStore').isViewerSellerForPlatformContext(q)){this.log(c('P2PPaymentLoggerEvent').UI_ACTN_PLATFORM_BANNER_SELLER_VIEWED);}else this.log(c('P2PPaymentLoggerEvent').UI_ACTN_PLATFORM_BANNER_BUYER_VIEWED);}},componentDidUpdate:function(q,r){if(!r.canSendToRecipient&&this.state.canSendToRecipient)this.handleShouldShowPayNUX();},log:function(q,r){var s={platform_logging_data:this.props.platformContext.product.loggingData};c('P2PLogger').log(q,babelHelpers['extends']({www_event_flow:c('P2PPaymentLoggerEventFlow').UI_FLOW_PLATFORM_BANNER},s,r));},handleShouldShowPayNUX:function(){var q=this.props.platformContext,r=!n&&this.shouldRenderPayButton()&&q.banner.shouldShowPayNux;if(r){this.log(c('P2PPaymentLoggerEvent').UI_ACTN_PLATFORM_BANNER_PAY_NUX_SHOWN);n=true;this.setState({showNUX:true});new (c('AsyncRequest'))().setURI(c('XC2CPayNUXBannerImpressionsUpdateController').getURIBuilder().getURI()).setMethod('POST').send();}},handleDismissClick:function(q){q.preventDefault();var r=this.props.platformContext;c('P2PAPI').dismissPlatformContextBanner(r.id);if(c('P2PPlatformContextStore').isViewerSellerForPlatformContext(r)){this.log(c('P2PPaymentLoggerEvent').UI_ACTN_PLATFORM_BANNER_SELLER_HIDE_CLICKED);}else this.log(c('P2PPaymentLoggerEvent').UI_ACTN_PLATFORM_BANNER_BUYER_HIDE_CLICKED);},handleSoldClick:function(q){q.preventDefault();c('P2PAPI').markSoldPlatformContextProductItem(this.props.platformContext.id);this.log(c('P2PPaymentLoggerEvent').UI_ACTN_PLATFORM_BANNER_SOLD_CLICKED);},handleRequestClick:function(q){q.preventDefault();this.openSendMoneyFlyoutRequestTab();this.log(c('P2PPaymentLoggerEvent').UI_ACTN_PLATFORM_BANNER_REQUEST_CLICKED);},hasNoMessagesFromSeller:function(){var q=this.props.platformContext,r=c('P2PPlatformContextStore').getThreadIDFromPlatformContext(q),s=c('MercuryMessages').get().getCurrentlyLoadedMessages(r);if(!s)return true;var t=c('MercuryIDs').getParticipantIDFromUserID(q.sellerID),u=s.some(function(v){return v.author===t;});return !u;},handlePayClick:function(q){q.preventDefault();if(this.hasNoMessagesFromSeller()){this.setState({showConfirmationDialog:true});this.log(c('P2PPaymentLoggerEvent').UI_ACTN_MESSAGE_SELLER_CONFIRM_DIALOG_SHOWN);}else this.openSendMoneyFlyout();},openSendMoneyFlyoutRequestTab:function(){var q=this.props.platformContext,r=q.product,s=c('P2PPlatformContextStore').getThreadIDFromPlatformContext(q);c('P2PActions').chatSendViewOpened({amount:r.formattedAmount,memoText:r.name,openRequestTab:true,platformData:{platformContextID:q.id,loggingData:r.loggingData},threadID:s});},openSendMoneyFlyout:function(){var q=this.props.platformContext,r=q.product,s=c('P2PPlatformContextStore').getThreadIDFromPlatformContext(q);c('P2PActions').chatSendViewOpened({threadID:s,amount:r.formattedAmount,platformData:{platformContextID:q.id,loggingData:r.loggingData}});this.setState({showNUX:false});this.log(c('P2PPaymentLoggerEvent').UI_ACTN_PLATFORM_BANNER_PAY_CLICKED);},handleImageClicked:function(){this.log(c('P2PPaymentLoggerEvent').UI_ACTN_PLATFORM_BANNER_IMAGE_CLICKED);},handleTitleClicked:function(){this.log(c('P2PPaymentLoggerEvent').UI_ACTN_PLATFORM_BANNER_TITLE_CLICKED);},renderMarkSold:function(){var q=this.props.platformContext,r=void 0;if(!q.product.isAvailable)return null;if(c('P2PPlatformContextStore').isViewerSellerForPlatformContext(q))r=c('React').createElement(c('Link.react'),{href:'#',onClick:this.handleSoldClick},i._("Marcar como vendido"));return r;},renderPayButton:function(){if(!this.shouldRenderPayButton())return null;var q=c('React').createElement(c('XUIButton.react'),{label:i._("Pagar"),onClick:this.handlePayClick,ref:'pay_button',use:'confirm'});if(!this.state.showNUX)q=c('React').createElement(c('Tooltip.react'),{alignH:'right',display:'block',tooltip:i._("Em seguida, voc\u00ea pode confirmar o valor.")},q);return (c('React').createElement('div',{className:!this.isCompactMode()?"_3-8x":''},q));},renderRequestButton:function(){if(!this.shouldRenderRequestButton())return null;return (c('React').createElement(c('Link.react'),{className:"_f-n",href:'#',onClick:this.handleRequestClick},i._("Solicitar pagamento")));},shouldRenderPayButton:function(){var q=this.props.platformContext,r=c('P2PPlatformContextStore').isViewerBuyerForPlatformContext(this.props.platformContext);return !!(this.state.canSendToRecipient&&q.product.isAvailable&&r&&q.product.rawAmount.amount>0);},shouldRenderSellerActionsRow:function(){var q=this.props.platformContext,r=c('P2PPlatformContextStore').isViewerSellerForPlatformContext(q);return r&&q.product.isAvailable;},shouldRenderRequestButton:function(){return !!(this.state.requestEnabled&&this.state.canSendToRecipient&&this.props.platformContext.product.rawAmount.amount>0);},getAmountText:function(){var q=this.props.platformContext,r=q.product;return (r.rawAmount.amount>0?r.formattedAmount:i._("GRATUITO"));},renderAskingPriceRow:function(){var q=this.props.platformContext,r=q.product;if(r.isAvailable)return (c('React').createElement(c('LineClamp.react'),{lines:1,lineHeight:16},c('React').createElement(c('XUIGrayText.react'),{shade:'light'},i._("Pre\u00e7o: {price of the item}",[i.param('price of the item',this.getAmountText())]))));},renderNameLine:function(){var q=this.props.platformContext,r=q.product,s='dark',t=void 0;if(!r.isAvailable){s='light';t=i._("VENDIDO");}return (c('React').createElement(c('Link.react'),{href:r.refURL||'#',onClick:this.handleTitleClicked},c('React').createElement(c('XUIGrayText.react'),{shade:s},t?'('+t+') ':null,r.name)));},renderSellerActionsRow:function(){if(!this.shouldRenderSellerActionsRow())return null;return (c('React').createElement('div',{className:"_f-o"},this.renderMarkSold(),this.renderRequestButton()));},renderImageColumn:function(){var q=this.props.platformContext,r=q.product;if(this.isCompactMode())return null;return (c('React').createElement(k,{className:"_3-90"},c('React').createElement('div',{className:"_5qnr"},c('React').createElement('div',{className:"_5qn-"},c('React').createElement(c('Link.react'),{href:r.refURL||'#',onClick:this.handleImageClicked},c('React').createElement(c('BackgroundImage.react'),{backgroundPosition:'50% 50%',backgroundSize:'cover',height:45,src:r.image,width:45}))))));},renderPopoverMenu:function(){var q=this.props.platformContext,r=q.product,s=c('React').createElement(c('ReactXUIMenu'),{className:"_1z1u"},c('React').createElement(m,{className:"_1z1_"},c('React').createElement('div',{onClick:this.handleDismissClick},i._("Ocultar da conversa"))),c('React').createElement(m,{ajaxify:new (c('URI'))('/ajax/groups/mall/report_to_admin').addQueryData({message_id:r.loggingData.post_id}),rel:'async-post'},i._("Denunciar ao administrador")),c('React').createElement(m,{href:c('P2PLinkConstants').helpCenterURI,target:'_blank'},i._("Saiba mais")));return (c('React').createElement(c('PopoverMenu.react'),{alignh:'right',layerBehaviors:[c('ContextualLayerAutoFlip')],menu:s,className:"_3fqa"},c('React').createElement('div',{className:"_1z20"},c('React').createElement(c('Link.react'),{className:"_1z21",href:'#'}))));},isCompactMode:function(){var q=this.props.platformContext,r=q.product;return !r.image||!r.isAvailable;},onNUXCloseButtonClick:function(){this.setState({showNUX:false});},renderLayers:function(){var q={};if(this.state.showNUX){q.ambientNUX=c('React').createElement(c('XUIAmbientNUX.react'),{alignment:'left',contextRef:function(){return this.refs.pay_button;}.bind(this),customwidth:234,onCloseButtonClick:this.onNUXCloseButtonClick,position:'above',shown:true,width:'custom'},c('React').createElement('div',{className:"_3-95"},i._("Voc\u00ea pode pagar por este item diretamente das suas mensagens.")),c('React').createElement('div',null,c('React').createElement(c('Image.react'),{className:"_3fqb",height:14,src:j('/images/p2p/white-privacy-lock.png'),width:10}),c('React').createElement('span',{className:"_3fqc"},i._("\u00c9 gratuito e seguro."))));}else if(this.state.showConfirmationDialog)q.confirmationDialog=c('React').createElement(c('P2PMessageSellerConfirmationDialog.react'),{onCancel:function(){this.setState({showConfirmationDialog:false});this.log(c('P2PPaymentLoggerEvent').UI_ACTN_MESSAGE_SELLER_CONFIRM_DIALOG_CANCEL_CLICK);}.bind(this),onPay:function(){this.setState({showConfirmationDialog:false});this.openSendMoneyFlyout();this.log(c('P2PPaymentLoggerEvent').UI_ACTN_MESSAGE_SELLER_CONFIRM_DIALOG_PAY_CLICK);}.bind(this)});return q;},render:function(){return (c('React').createElement('div',{className:"_319c"+(this.isCompactMode()?' '+"_5qn_":'')},c('React').createElement(c('Layout.react'),null,this.renderImageColumn(),c('React').createElement(l,null,c('React').createElement('div',{className:"_5qo0"},c('React').createElement('div',{className:"_5qo1"},c('React').createElement(c('LineClamp.react'),{lines:1,lineHeight:16},this.renderNameLine()),this.renderAskingPriceRow(),this.renderSellerActionsRow()))),c('React').createElement(k,null,c('React').createElement('div',{className:"_1_68"},this.renderPopoverMenu(),this.renderPayButton())))));}});f.exports=p;},null);
__d('P2PSendMoneyNUXChatThreadBanner.react',['MercuryIDs','P2PActions','P2PChatThreadBanner.react','P2PUserEligibilityStore','React','StoreAndPropBasedStateMixin'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=c('React').createClass({displayName:'P2PSendMoneyNUXChatThreadBanner',mixins:[c('StoreAndPropBasedStateMixin')(c('P2PUserEligibilityStore'))],propTypes:{bannerType:h.string.isRequired,bodyText:h.string,buttonText:h.string,loggerEventFlow:h.string.isRequired,openRequestTab:h.bool,threadID:h.string.isRequired,titleText:h.string.isRequired},getDefaultProps:function(){return {openRequestTab:false};},statics:{calculateState:function(j){var k=c('MercuryIDs').isGroupChat(j.threadID)||c('P2PUserEligibilityStore').getEligibilityByThreadID(j.threadID);return {isThreadEligible:k};}},handleClick:function(){c('P2PActions').chatSendViewOpened({openRequestTab:this.props.openRequestTab,threadID:this.props.threadID});},render:function(){if(!this.state.isThreadEligible)return null;return (c('React').createElement(c('P2PChatThreadBanner.react'),babelHelpers['extends']({},this.props,{onClick:this.handleClick})));}});f.exports=i;},null);
__d('P2PRequestSenderNUXChatThreadBanner.react',['fbt','P2PBannerType','P2PPaymentLoggerEventFlow','P2PSendMoneyNUXChatThreadBanner.react','React'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'P2PRequestSenderNUXChatThreadBanner',propTypes:{threadID:i.string.isRequired},render:function(){return (c('React').createElement(c('P2PSendMoneyNUXChatThreadBanner.react'),{bannerType:c('P2PBannerType').REQUEST_SENDER_NUX,bodyText:h._("Receba o que pagou no jantar, aluguel ou qualquer outra coisa."),buttonText:h._("Come\u00e7ar"),openRequestTab:true,loggerEventFlow:c('P2PPaymentLoggerEventFlow').UI_FLOW_REQUEST_SENDER_NUX_CHAT_THREAD_BANNER,threadID:this.props.threadID,titleText:h._("Agora voc\u00ea pode solicitar fundos!")}));}});f.exports=j;},null);
__d('P2PSenderNUXChatThreadBanner.react',['fbt','P2PBannerType','P2PPaymentLoggerEventFlow','P2PSendMoneyNUXChatThreadBanner.react','React'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'P2PSenderNUXChatThreadBanner',propTypes:{threadID:i.string.isRequired},render:function(){return (c('React').createElement(c('P2PSendMoneyNUXChatThreadBanner.react'),{bannerType:c('P2PBannerType').SENDER_NUX,bodyText:h._("\u00c9 gratuito e seguro."),buttonText:h._("Come\u00e7ar"),loggerEventFlow:c('P2PPaymentLoggerEventFlow').UI_FLOW_SENDER_NUX_CHAT_THREAD_BANNER,threadID:this.props.threadID,titleText:h._("Agora voc\u00ea pode enviar dinheiro!")}));}});f.exports=j;},null);
__d('P2PChatThreadBannerContainer.react',['P2PBannerStore','P2PBannerType','P2PProductItemChatThreadBanner.react','P2PPlatformContextStore','P2PRequestSenderNUXChatThreadBanner.react','P2PSenderNUXChatThreadBanner.react','StoreAndPropBasedStateMixin','React'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=c('React').createClass({displayName:'P2PChatThreadBannerContainer',mixins:[c('StoreAndPropBasedStateMixin')(c('P2PBannerStore'),c('P2PPlatformContextStore'))],propTypes:{isVisible:h.bool,otherUserID:h.string,threadID:h.string},statics:{calculateState:function(j){return {productItemBannerShown:c('P2PPlatformContextStore').shouldShowBanner(j.otherUserID),requestSenderNUXBannerShown:c('P2PBannerStore').shouldShowBanner(c('P2PBannerType').REQUEST_SENDER_NUX),senderNUXBannerShown:c('P2PBannerStore').shouldShowBanner(c('P2PBannerType').SENDER_NUX)};}},renderRequestSenderNUXBanner:function(){if(!this.props.threadID||!this.props.isVisible)return null;return (c('React').createElement(c('P2PRequestSenderNUXChatThreadBanner.react'),{threadID:this.props.threadID}));},renderSenderNUXBanner:function(){if(!this.props.threadID||!this.props.isVisible)return null;return (c('React').createElement(c('P2PSenderNUXChatThreadBanner.react'),{threadID:this.props.threadID}));},renderProductItemBanner:function(){var j=this.props.otherUserID,k=void 0;if(j)k=c('P2PPlatformContextStore').getPlatformContextByOtherUserID(j);if(!k)return null;return (c('React').createElement(c('P2PProductItemChatThreadBanner.react'),{platformContext:k}));},render:function(){var j=void 0;if(this.state.senderNUXBannerShown){j=this.renderSenderNUXBanner();}else if(this.state.requestSenderNUXBannerShown){j=this.renderRequestSenderNUXBanner();}else if(this.state.productItemBannerShown)j=this.renderProductItemBanner();return (c('React').createElement('div',null,j));}});f.exports=i;},null);