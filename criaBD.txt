drop database dummySocial;
drop database czSocial;
create database czSocial;
use czSocial

create table enderecos(endereco_id int AUTO_INCREMENT primary key, cidade varchar(20) not null, UF varchar(2) not null); 
create table perfis(perfil_id int primary key AUTO_INCREMENT, conta_id int not null, sexo varchar(10) not null, formacao varchar(100) not null, perf_foto longblob not null, interessado varchar(10) not null, endereco_id int not null, foreign key(endereco_id) references enderecos(endereco_id));
create table contas(conta_id int primary key AUTO_INCREMENT, nome varchar(20), data_nascimento date not null, email varchar(50) unique not null, senha varchar(12) not null, perfil_id int, foreign key(perfil_id) references perfis(perfil_id));
create table murais(mural_id int primary key AUTO_INCREMENT, conta_id int not null, foreign key(conta_id) references contas(conta_id));
create table fotos (foto_id int primary key AUTO_INCREMENT, imagem longblob);
create table publicacoes(publicacao_id int primary key AUTO_INCREMENT, mural_id int not null, texto varchar(200), foto_id int, data_criacao datetime not null, foreign key(foto_id) references fotos(foto_id), foreign key(mural_id) references murais(mural_id));
create table comentarios (comentario_id int primary key AUTO_INCREMENT, comentario varchar(200) not null, data_criacao datetime not null, conta_id int not null, publicacao_id int not null, foreign key(conta_id) references contas(conta_id), foreign key(publicacao_id) references publicacoes(publicacao_id));
create table amigos(conta_id int, amigo_id int, data_amizade date, primary key(conta_id,amigo_id), foreign key(conta_id) references contas(conta_id), foreign key(amigo_id) references contas(conta_id));